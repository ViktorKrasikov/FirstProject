$wnd.com_haulmont_cuba_web_toolkit_ui_WidgetSet.runAsyncCallback2("function Hgg(){}\nfunction HMc(a){this.a=a}\nfunction KMc(a){this.a=a}\nfunction NMc(a){this.a=a}\nfunction nMc(){wuc.call(this)}\nfunction EMc(a,b,c){this.a=a;this.c=b;this.b=c}\nfunction AMc(){$wnd.historyBackListener=undefined}\nfunction sMc(a){$wnd.historyBackListener=function(){a.cc()}}\nfunction vMc(a){a.c.gi('>>> Init handler');sMc(new KMc(a))}\nfunction mMc(a){var b;b=eD(a.b,287);return !!b&&!!b.Ae()&&b.Ae().ce()}\nfunction BIg(){mIg();if(lIg.b!=0){return eD(cnh(lIg,lIg.b-1),346)}return null}\nfunction zMc(e,a,b,c){var d={state:a,timestamp:a,rand:2};e.History.pushState(d,b,c)}\nfunction CMc(a){this.a=a;this.c=nOc(H3h)?new lOc(H3h):new iOc;this.b=new jqh;xMc(this)}\nfunction lMc(a){BIg()?qIg(BIg()):Old(eD(eD(psc(a,fM),187),277).a,new Qtg(new fug(fM),BYh),WC(H4b,xAh,0,[]))}\nfunction xMc(c){var a=c;if(!$wnd.jQuery||!$wnd.importHistoryJsLibrary){var b=$wnd.setInterval(function(){if($wnd.jQuery&&$wnd.importHistoryJsLibrary){$wnd.clearInterval(b);a.ai()}},100)}else{a.ai()}}\nfunction tMc(a){var b,c,d,e;c=$doc.title;a.c.gi(D3h+c);b=Uih(r5b((new fA).p.getTime()));gqh(a.b,b);d=$doc.URL;a.c.gi(E3h+d+lGh);e=F3h;d.indexOf(F3h)!=-1&&(e=G3h);a.c.gi('>>> Push history step: '+b+wDh+e);zMc(a,b,c,e);a.c.gi('>>> Call history back handler');lMc(a.a)}\nfunction wMc(a){$wnd.importHistoryJsLibrary();a.History=$wnd.History;if(!$wnd.callHistoryBackListener){$wnd.callHistoryBackListener=function(){$wnd.historyBackListener&&$wnd.historyBackListener()};a.History.Adapter.bind($wnd,'statechange',$wnd.callHistoryBackListener)}}\nfunction yMc(a){var b,c,d;c=$doc.URL;a.c.gi(E3h+c+lGh);b=$doc.title;a.c.gi(D3h+b);d=F3h;c.indexOf(F3h)!=-1&&(d=G3h);if((Gbd(),!Fbd&&(Fbd=new Wbd),Gbd(),Fbd).a.g){a.c.gi('>>> Push base state for IE');zMc(a,Uih(r5b((new fA).p.getTime())),b,d+iLh)}ejd((uk(),tk),new EMc(a,b,d))}\nfunction uMc(a){var b;if(!mMc(a.a)){a.c.gi('>>> Disabled history handler');AMc();return}b=a.History.getState().data.timestamp;a.c.b&&(b?a.c.gi('>>> Check step: '+H5b(b.a)):a.c.gi('>>> Check step: undefined'));if(!!b&&hqh(a.b,Uih(b.a))){a.c.gi('>>> Skip fake history step');iqh(a.b,b)}else{(Gbd(),!Fbd&&(Fbd=new Wbd),Gbd(),Fbd).a.g?ejd((uk(),tk),new NMc(a)):tMc(a)}}\nvar E3h=\">>> Current location: '\",D3h='>>> Current title: ',F3h='?a',G3h='?b',H3h='HistoryJsApi';S5b(668,583,JBh,nMc);_.Tf=function oMc(a){this.b=a;this.a=new CMc(this)};_.sf=function pMc(){AMc(this.a)};_.a=null;_.b=null;S5b(670,1,{});_.ai=function BMc(){var a;a=$wnd.onbeforeunload;this.c.gi('>>> Init history');wMc(this);this.c.gi('>>> Init start state');yMc(this);$wnd.onbeforeunload=a};S5b(669,670,{},CMc);_.a=null;S5b(671,1,PAh,EMc);_.nc=function FMc(){this.a.c.gi('>>> Init start step');zMc(this.a,Uih(r5b((new fA).p.getTime())),this.c,this.b);ejd((uk(),tk),new HMc(this))};_.a=null;_.b=null;_.c=null;S5b(672,1,PAh,HMc);_.nc=function IMc(){vMc(this.a.a)};_.a=null;S5b(673,1,{},KMc);_.cc=function LMc(){uMc(this.a)};_.a=null;S5b(674,1,PAh,NMc);_.nc=function OMc(){tMc(this.a)};_.a=null;S5b(4243,1,LCh);_.lc=function Fgg(){mug(this.b,mUh,eM);qug(this.b,eM,DUh,new Hgg);wug(this.b,eM,YJh,new fug(u$b));qrd((!lrd&&(lrd=new srd),lrd),this.a.d)};S5b(4244,1,MCh,Hgg);_.tk=function Igg(a,b){return new nMc};var eM=Thh(c3h,IZh,668),cNb=Thh(N1h,'ConnectorBundleLoaderImpl$3$1$1',4244),kM=Thh(c3h,H3h,670),dM=Thh(c3h,'CubaHistoryControlConnector$1',669),hM=Thh(c3h,'HistoryJsApi$1',671),gM=Thh(c3h,'HistoryJsApi$1$1',672),iM=Thh(c3h,'HistoryJsApi$2',673),jM=Thh(c3h,'HistoryJsApi$3',674);sDh(tj)(2);\n//@ sourceURL=2.js\n")
