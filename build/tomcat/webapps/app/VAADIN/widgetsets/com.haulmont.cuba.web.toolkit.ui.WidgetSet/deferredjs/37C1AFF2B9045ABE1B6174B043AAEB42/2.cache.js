$wnd.com_haulmont_cuba_web_toolkit_ui_WidgetSet.runAsyncCallback2("function Tgg(){}\nfunction TMc(a){this.b=a}\nfunction WMc(a){this.b=a}\nfunction ZMc(a){this.b=a}\nfunction zMc(){Iuc.call(this)}\nfunction QMc(a,b,c){this.b=a;this.d=b;this.c=c}\nfunction MMc(){$wnd.historyBackListener=undefined}\nfunction EMc(a){$wnd.historyBackListener=function(){a.gc()}}\nfunction HMc(a){a.d.ii('>>> Init handler');EMc(new WMc(a))}\nfunction yMc(a){var b;b=vD(a.c,287);return !!b&&!!b.Ce()&&b.Ce().ee()}\nfunction NIg(){yIg();if(xIg.c!=0){return vD(onh(xIg,xIg.c-1),346)}return null}\nfunction LMc(e,a,b,c){var d={state:a,timestamp:a,rand:2};e.History.pushState(d,b,c)}\nfunction OMc(a){this.b=a;this.d=zOc(X3h)?new xOc(X3h):new uOc;this.c=new vqh;JMc(this)}\nfunction xMc(a){NIg()?CIg(NIg()):$ld(vD(vD(Bsc(a,BM),187),277).b,new aug(new rug(BM),RYh),lD(a5b,KAh,0,[]))}\nfunction JMc(c){var a=c;if(!$wnd.jQuery||!$wnd.importHistoryJsLibrary){var b=$wnd.setInterval(function(){if($wnd.jQuery&&$wnd.importHistoryJsLibrary){$wnd.clearInterval(b);a.ci()}},100)}else{a.ci()}}\nfunction FMc(a){var b,c,d,e;c=$doc.title;a.d.ii(T3h+c);b=ejh(M5b((new wA).q.getTime()));sqh(a.c,b);d=$doc.URL;a.d.ii(U3h+d+CGh);e=V3h;d.indexOf(V3h)!=-1&&(e=W3h);a.d.ii('>>> Push history step: '+b+KDh+e);LMc(a,b,c,e);a.d.ii('>>> Call history back handler');xMc(a.b)}\nfunction IMc(a){$wnd.importHistoryJsLibrary();a.History=$wnd.History;if(!$wnd.callHistoryBackListener){$wnd.callHistoryBackListener=function(){$wnd.historyBackListener&&$wnd.historyBackListener()};a.History.Adapter.bind($wnd,'statechange',$wnd.callHistoryBackListener)}}\nfunction KMc(a){var b,c,d;c=$doc.URL;a.d.ii(U3h+c+CGh);b=$doc.title;a.d.ii(T3h+b);d=V3h;c.indexOf(V3h)!=-1&&(d=W3h);if((Sbd(),!Rbd&&(Rbd=new gcd),Sbd(),Rbd).b.i){a.d.ii('>>> Push base state for IE');LMc(a,ejh(M5b((new wA).q.getTime())),b,d+BLh)}qjd((Ek(),Dk),new QMc(a,b,d))}\nfunction GMc(a){var b;if(!yMc(a.b)){a.d.ii('>>> Disabled history handler');MMc();return}b=a.History.getState().data.timestamp;a.d.c&&(b?a.d.ii('>>> Check step: '+a6b(b.b)):a.d.ii('>>> Check step: undefined'));if(!!b&&tqh(a.c,ejh(b.b))){a.d.ii('>>> Skip fake history step');uqh(a.c,b)}else{(Sbd(),!Rbd&&(Rbd=new gcd),Sbd(),Rbd).b.i?qjd((Ek(),Dk),new ZMc(a)):FMc(a)}}\nvar U3h=\">>> Current location: '\",T3h='>>> Current title: ',V3h='?a',W3h='?b',X3h='HistoryJsApi';l6b(665,580,WBh,zMc);_.Vf=function AMc(a){this.c=a;this.b=new OMc(this)};_.uf=function BMc(){MMc(this.b)};_.b=null;_.c=null;l6b(667,1,{});_.ci=function NMc(){var a;a=$wnd.onbeforeunload;this.d.ii('>>> Init history');IMc(this);this.d.ii('>>> Init start state');KMc(this);$wnd.onbeforeunload=a};l6b(666,667,{},OMc);_.b=null;l6b(668,1,aBh,QMc);_.rc=function RMc(){this.b.d.ii('>>> Init start step');LMc(this.b,ejh(M5b((new wA).q.getTime())),this.d,this.c);qjd((Ek(),Dk),new TMc(this))};_.b=null;_.c=null;_.d=null;l6b(669,1,aBh,TMc);_.rc=function UMc(){HMc(this.b.b)};_.b=null;l6b(670,1,{},WMc);_.gc=function XMc(){GMc(this.b)};_.b=null;l6b(671,1,aBh,ZMc);_.rc=function $Mc(){FMc(this.b)};_.b=null;l6b(4240,1,YCh);_.pc=function Rgg(){yug(this.c,CUh,AM);Cug(this.c,AM,TUh,new Tgg);Iug(this.c,AM,pKh,new rug(P$b));Crd((!xrd&&(xrd=new Erd),xrd),this.b.e)};l6b(4241,1,ZCh,Tgg);_.vk=function Ugg(a,b){return new zMc};var AM=dih(s3h,YZh,665),xNb=dih(b2h,'ConnectorBundleLoaderImpl$3$1$1',4241),GM=dih(s3h,X3h,667),zM=dih(s3h,'CubaHistoryControlConnector$1',666),DM=dih(s3h,'HistoryJsApi$1',668),CM=dih(s3h,'HistoryJsApi$1$1',669),EM=dih(s3h,'HistoryJsApi$2',670),FM=dih(s3h,'HistoryJsApi$3',671);FDh(Dj)(2);\n//@ sourceURL=2.js\n")
