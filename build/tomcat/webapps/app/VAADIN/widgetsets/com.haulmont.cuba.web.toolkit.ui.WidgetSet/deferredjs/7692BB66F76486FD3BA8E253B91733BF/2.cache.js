$wnd.com_haulmont_cuba_web_toolkit_ui_WidgetSet.runAsyncCallback2("function Vgg(){}\nfunction MMc(a){this.a=a}\nfunction PMc(a){this.a=a}\nfunction SMc(a){this.a=a}\nfunction sMc(){Buc.call(this)}\nfunction JMc(a,b,c){this.a=a;this.c=b;this.b=c}\nfunction FMc(){$wnd.historyBackListener=undefined}\nfunction xMc(a){$wnd.historyBackListener=function(){a.cc()}}\nfunction AMc(a){a.c.fi('>>> Init handler');xMc(new PMc(a))}\nfunction rMc(a){var b;b=uD(a.b,288);return !!b&&!!b.ze()&&b.ze().be()}\nfunction UIg(){FIg();if(EIg.b!=0){return uD(vnh(EIg,EIg.b-1),347)}return null}\nfunction EMc(e,a,b,c){var d={state:a,timestamp:a,rand:2};e.History.pushState(d,b,c)}\nfunction HMc(a){this.a=a;this.c=sOc(V3h)?new qOc(V3h):new nOc;this.b=new Cqh;CMc(this)}\nfunction qMc(a){UIg()?JIg(UIg()):amd(uD(uD(usc(a,wM),187),278).a,new cug(new tug(wM),OYh),kD(Z4b,QAh,0,[]))}\nfunction CMc(c){var a=c;if(!$wnd.jQuery||!$wnd.importHistoryJsLibrary){var b=$wnd.setInterval(function(){if($wnd.jQuery&&$wnd.importHistoryJsLibrary){$wnd.clearInterval(b);a._h()}},100)}else{a._h()}}\nfunction yMc(a){var b,c,d,e;c=$doc.title;a.c.fi(R3h+c);b=ljh(J5b((new vA).p.getTime()));zqh(a.b,b);d=$doc.URL;a.c.fi(S3h+d+LGh);e=T3h;d.indexOf(T3h)!=-1&&(e=U3h);a.c.fi('>>> Push history step: '+b+QDh+e);EMc(a,b,c,e);a.c.fi('>>> Call history back handler');qMc(a.a)}\nfunction BMc(a){$wnd.importHistoryJsLibrary();a.History=$wnd.History;if(!$wnd.callHistoryBackListener){$wnd.callHistoryBackListener=function(){$wnd.historyBackListener&&$wnd.historyBackListener()};a.History.Adapter.bind($wnd,'statechange',$wnd.callHistoryBackListener)}}\nfunction DMc(a){var b,c,d;c=$doc.URL;a.c.fi(S3h+c+LGh);b=$doc.title;a.c.fi(R3h+b);d=T3h;c.indexOf(T3h)!=-1&&(d=U3h);if((Lbd(),!Kbd&&(Kbd=new _bd),Lbd(),Kbd).a.g){a.c.fi('>>> Push base state for IE');EMc(a,ljh(J5b((new vA).p.getTime())),b,d+xLh)}sjd((uk(),tk),new JMc(a,b,d))}\nfunction zMc(a){var b;if(!rMc(a.a)){a.c.fi('>>> Disabled history handler');FMc();return}b=a.History.getState().data.timestamp;a.c.b&&(b?a.c.fi('>>> Check step: '+Z5b(b.a)):a.c.fi('>>> Check step: undefined'));if(!!b&&Aqh(a.b,ljh(b.a))){a.c.fi('>>> Skip fake history step');Bqh(a.b,b)}else{(Lbd(),!Kbd&&(Kbd=new _bd),Lbd(),Kbd).a.g?sjd((uk(),tk),new SMc(a)):yMc(a)}}\nvar S3h=\">>> Current location: '\",R3h='>>> Current title: ',T3h='?a',U3h='?b',V3h='HistoryJsApi';i6b(668,583,aCh,sMc);_.Sf=function tMc(a){this.b=a;this.a=new HMc(this)};_.rf=function uMc(){FMc(this.a)};_.a=null;_.b=null;i6b(670,1,{});_._h=function GMc(){var a;a=$wnd.onbeforeunload;this.c.fi('>>> Init history');BMc(this);this.c.fi('>>> Init start state');DMc(this);$wnd.onbeforeunload=a};i6b(669,670,{},HMc);_.a=null;i6b(671,1,gBh,JMc);_.nc=function KMc(){this.a.c.fi('>>> Init start step');EMc(this.a,ljh(J5b((new vA).p.getTime())),this.c,this.b);sjd((uk(),tk),new MMc(this))};_.a=null;_.b=null;_.c=null;i6b(672,1,gBh,MMc);_.nc=function NMc(){AMc(this.a.a)};_.a=null;i6b(673,1,{},PMc);_.cc=function QMc(){zMc(this.a)};_.a=null;i6b(674,1,gBh,SMc);_.nc=function TMc(){yMc(this.a)};_.a=null;i6b(4244,1,cDh);_.lc=function Tgg(){Aug(this.b,zUh,vM);Eug(this.b,vM,QUh,new Vgg);Kug(this.b,vM,lKh,new tug(M$b));Erd((!zrd&&(zrd=new Grd),zrd),this.a.d)};i6b(4245,1,dDh,Vgg);_.wk=function Wgg(a,b){return new sMc};var vM=kih(q3h,WZh,668),tNb=kih(_1h,'ConnectorBundleLoaderImpl$3$1$1',4245),BM=kih(q3h,V3h,670),uM=kih(q3h,'CubaHistoryControlConnector$1',669),yM=kih(q3h,'HistoryJsApi$1',671),xM=kih(q3h,'HistoryJsApi$1$1',672),zM=kih(q3h,'HistoryJsApi$2',673),AM=kih(q3h,'HistoryJsApi$3',674);MDh(tj)(2);\n//@ sourceURL=2.js\n")
