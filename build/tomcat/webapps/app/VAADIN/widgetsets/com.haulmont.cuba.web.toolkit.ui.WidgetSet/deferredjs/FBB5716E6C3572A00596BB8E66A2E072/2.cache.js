$wnd.com_haulmont_cuba_web_toolkit_ui_WidgetSet.runAsyncCallback2("function Igg(){}\nfunction IMc(a){this.a=a}\nfunction LMc(a){this.a=a}\nfunction OMc(a){this.a=a}\nfunction oMc(){xuc.call(this)}\nfunction FMc(a,b,c){this.a=a;this.c=b;this.b=c}\nfunction BMc(){$wnd.historyBackListener=undefined}\nfunction tMc(a){$wnd.historyBackListener=function(){a.cc()}}\nfunction wMc(a){a.c.gi('>>> Init handler');tMc(new LMc(a))}\nfunction nMc(a){var b;b=gD(a.b,287);return !!b&&!!b.Ae()&&b.Ae().ce()}\nfunction CIg(){nIg();if(mIg.b!=0){return gD(dnh(mIg,mIg.b-1),346)}return null}\nfunction AMc(e,a,b,c){var d={state:a,timestamp:a,rand:2};e.History.pushState(d,b,c)}\nfunction DMc(a){this.a=a;this.c=oOc(F3h)?new mOc(F3h):new jOc;this.b=new kqh;yMc(this)}\nfunction mMc(a){CIg()?rIg(CIg()):Pld(gD(gD(qsc(a,iM),187),277).a,new Rtg(new gug(iM),zYh),YC(K4b,yAh,0,[]))}\nfunction yMc(c){var a=c;if(!$wnd.jQuery||!$wnd.importHistoryJsLibrary){var b=$wnd.setInterval(function(){if($wnd.jQuery&&$wnd.importHistoryJsLibrary){$wnd.clearInterval(b);a.ai()}},100)}else{a.ai()}}\nfunction uMc(a){var b,c,d,e;c=$doc.title;a.c.gi(B3h+c);b=Vih(u5b((new hA).p.getTime()));hqh(a.b,b);d=$doc.URL;a.c.gi(C3h+d+mGh);e=D3h;d.indexOf(D3h)!=-1&&(e=E3h);a.c.gi('>>> Push history step: '+b+xDh+e);AMc(a,b,c,e);a.c.gi('>>> Call history back handler');mMc(a.a)}\nfunction xMc(a){$wnd.importHistoryJsLibrary();a.History=$wnd.History;if(!$wnd.callHistoryBackListener){$wnd.callHistoryBackListener=function(){$wnd.historyBackListener&&$wnd.historyBackListener()};a.History.Adapter.bind($wnd,'statechange',$wnd.callHistoryBackListener)}}\nfunction zMc(a){var b,c,d;c=$doc.URL;a.c.gi(C3h+c+mGh);b=$doc.title;a.c.gi(B3h+b);d=D3h;c.indexOf(D3h)!=-1&&(d=E3h);if((Hbd(),!Gbd&&(Gbd=new Xbd),Hbd(),Gbd).a.g){a.c.gi('>>> Push base state for IE');AMc(a,Vih(u5b((new hA).p.getTime())),b,d+gLh)}fjd((uk(),tk),new FMc(a,b,d))}\nfunction vMc(a){var b;if(!nMc(a.a)){a.c.gi('>>> Disabled history handler');BMc();return}b=a.History.getState().data.timestamp;a.c.b&&(b?a.c.gi('>>> Check step: '+K5b(b.a)):a.c.gi('>>> Check step: undefined'));if(!!b&&iqh(a.b,Vih(b.a))){a.c.gi('>>> Skip fake history step');jqh(a.b,b)}else{(Hbd(),!Gbd&&(Gbd=new Xbd),Hbd(),Gbd).a.g?fjd((uk(),tk),new OMc(a)):uMc(a)}}\nvar C3h=\">>> Current location: '\",B3h='>>> Current title: ',D3h='?a',E3h='?b',F3h='HistoryJsApi';V5b(669,584,KBh,oMc);_.Tf=function pMc(a){this.b=a;this.a=new DMc(this)};_.sf=function qMc(){BMc(this.a)};_.a=null;_.b=null;V5b(671,1,{});_.ai=function CMc(){var a;a=$wnd.onbeforeunload;this.c.gi('>>> Init history');xMc(this);this.c.gi('>>> Init start state');zMc(this);$wnd.onbeforeunload=a};V5b(670,671,{},DMc);_.a=null;V5b(672,1,QAh,FMc);_.nc=function GMc(){this.a.c.gi('>>> Init start step');AMc(this.a,Vih(u5b((new hA).p.getTime())),this.c,this.b);fjd((uk(),tk),new IMc(this))};_.a=null;_.b=null;_.c=null;V5b(673,1,QAh,IMc);_.nc=function JMc(){wMc(this.a.a)};_.a=null;V5b(674,1,{},LMc);_.cc=function MMc(){vMc(this.a)};_.a=null;V5b(675,1,QAh,OMc);_.nc=function PMc(){uMc(this.a)};_.a=null;V5b(4244,1,MCh);_.lc=function Ggg(){nug(this.b,kUh,hM);rug(this.b,hM,BUh,new Igg);xug(this.b,hM,WJh,new gug(x$b));rrd((!mrd&&(mrd=new trd),mrd),this.a.d)};V5b(4245,1,NCh,Igg);_.tk=function Jgg(a,b){return new oMc};var hM=Uhh(a3h,GZh,669),fNb=Uhh(L1h,'ConnectorBundleLoaderImpl$3$1$1',4245),nM=Uhh(a3h,F3h,671),gM=Uhh(a3h,'CubaHistoryControlConnector$1',670),kM=Uhh(a3h,'HistoryJsApi$1',672),jM=Uhh(a3h,'HistoryJsApi$1$1',673),lM=Uhh(a3h,'HistoryJsApi$2',674),mM=Uhh(a3h,'HistoryJsApi$3',675);tDh(tj)(2);\n//@ sourceURL=2.js\n")
